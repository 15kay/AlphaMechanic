<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shopping Cart | ALPHA MECHANIC</title>
  <link rel="stylesheet" href="index.css">
  <link rel="stylesheet" href="catalog.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="../INDEX/logo1.png">
  <style>
    .cart_button {
      background-color: transparent;
      cursor: pointer;
      color: #333;
      border: none;
      font-size: 20px;
    }

  </style>
</head>
<body>
  <section id="header">
    <div class="logo">
      <a href="index.html"><img src="logo1.png" alt="alphamechanic"></a>
    </div>
    <ul id="navbar">
      <li><a href="../INDEX/index.html">Home</a></li>
      <li><a href="../registration.html">Appointments</a></li>
      <li><a href="../New_Customer/order_details.html">Track Orders</a></li>
      <li><a class="active" href="catalog.html">Catalog</a></li>
      <li><a href="#contact">Contact</a></li>
      <li id="lg-bag"><a href="cart.html"><i class="far fa-shopping-bag"></i> (<span id="cart-count">0</span>)</a></li>
    </ul>
  </section>

  <section class="container">
    <div class="services-grid" id="services-grid">
      <!-- Product Card 1 -->
      <div class="service-card">
        <img src="catalog/brake.png" alt="Disc brake calipers">
        <h3>Disc brake calipers</h3>
        <p>Disc brake calipers are crucial components within modern disc brake systems.</p>
        <small>R2500.00</small>
        <button class="cart_button" data-price="2500" data-name="Disc brake calipers">
            <i class="fal fa-shopping-cart"></i> Add to Cart
        </button>
      </div>

      <!-- Product Card 2 -->
      <div class="service-card">
        <img src="catalog/plugs.png" alt="Spark Plug">
        <h3>Spark Plug</h3>
        <p>A spark plug is a crucial component in a car’s engine.</p>
        <small>R570.00</small>
        <button class="cart_button" data-name="Spark Plug" data-price="570">
          <i class="fal fa-shopping-cart"></i> Add to Cart
        </button>
      </div>

      <!-- Product Card 3 -->
      <div class="service-card">
        <img src="catalog/light(1).png" alt="Spot Light">
        <h3>Spot Light</h3>
        <p>Volkswagen Jetta Mk 7 Spot Light Right</p>
        <small>R800.00</small>
        <button class="cart_button" data-name="Spot Light" data-price="800">
          <i class="fal fa-shopping-cart"></i> Add to Cart
        </button>
      </div>

      <!-- Product Card 4 -->
      <div class="service-card">
        <img src="catalog/bamber2.png" alt="Front Bumpers">
        <h3>Front Bumpers</h3>
        <p>Ford Figo Pre Face Front Bumper With Grille And Spot Light Holes</p>
        <small>R3300.00</small>
        <button class="cart_button" data-name="Front Bumpers" data-price="3300">
          <i class="fal fa-shopping-cart"></i> Add to Cart
        </button>
      </div>

      <!-- Product Card 5 -->
      <div class="service-card">
        <img src="catalog/bot(1).png" alt="Front Fender Liner">
        <h3>Front Fender Liner</h3>
        <p>Volkswagen Golf Mk 7 Front Fender Liner Front Piece Left (better Quality)</p>
        <small>R2500.00</small>
        <button class="cart_button" data-name="Front Fender Liner" data-price="2500">
          <i class="fal fa-shopping-cart"></i> Add to Cart
        </button>
      </div>

      <!-- Product Card 6 -->
      <div class="service-card">
        <img src="catalog/compressor(1).png" alt="Fully inflates car tires">
        <h3>Fully inflates car tires</h3>
        <p>Moto-Quip 26L/Min Portable Compressor</p>
        <small>R300.00</small>
        <button class="cart_button" data-name="Fully inflates car tires" data-price="300">
          <i class="fal fa-shopping-cart"></i> Add to Cart
        </button>
      </div>
    </div>
  </section>

  <script>
const addToCart = (itemName, price) => {
  const cart = JSON.parse(localStorage.getItem('cart')) || [];
  const itemPrice = parseFloat(price);

  // Check if the item already exists in the cart
  const existingItem = cart.find(item => item.name === itemName);

  if (existingItem) {
    // If the item exists, just increase its quantity
    existingItem.quantity += 1;
  } else {
    // Otherwise, add the item to the cart with quantity 1
    cart.push({ name: itemName, price: itemPrice, quantity: 1 });
  }

  localStorage.setItem('cart', JSON.stringify(cart));
  updateCartCount();
};


const updateCartCount = () => {
  const cart = JSON.parse(localStorage.getItem('cart')) || [];
  
  // Update the cart item count in the header
  document.getElementById('cart-count').innerText = cart.length;
};

document.addEventListener('DOMContentLoaded', () => {
  const cartButtons = document.querySelectorAll('.cart_button');
  
  cartButtons.forEach(button => {
    button.addEventListener('click', () => {
      const itemName = button.getAttribute('data-name');
      
      // Use parseFloat to make sure price is a number
      const itemPrice = parseFloat(button.getAttribute('data-price'));
      
      // Add item to cart
      addToCart(itemName, itemPrice);
    });
  });
  
  // Update cart count when the page loads
  updateCartCount();
});

  </script>
    <footer>
        <div class="con-footer">
            <div class="content-footer">
                <h2>ALPHA MECHANIC</h2>
                <hr>
                <P>Spares Mechanic is your Trusted <br>
                    Online Destination for Car Spares <br>
                    in South Africa. Shop over 3000 new, <br>
                    used,and alternative parts online for <br>
                    hassle-free car spares shopping.</P>
    
                    <div class="logo">
                        <a href="index.html"><img src="../INDEX/logo1.png" alt="alphamechanic"></a>
                    </div>
            </div>
            <div class="content-footer">
                <h2>CATEGORIES</h2>
                <hr>
                <div class="footer-menu">
                    <a href="">All pairs</a>
                    <a href="">Accessories</a>
                </div>
            </div>
            <div class="content-footer">
                <h2>INFORMATION</h2>
                <hr>
                <div class="footer-menu">
                    <a href="">Home</a>
                    <a href="">About Us</a>
                    <a href="">Contact Us</a>
                    <a href="">Terms & Conditions</a>
                </div>
            </div>
            <div class="content-footer" id="contact">
                <h2>Contact Us</h2>
                <hr>
                <div class="footer-menu">
                    <a href="">+27 64 858 7175</a>
                    <a href="">info@alphamechanic.com</a>
                </div>
                <h2>FOLLOW US</h2>
                <div class="social-media">
                    <a href=""><i class="fab fa-facebook-f"></i></a>
                    <a href=""><i class="fab fa-twitter"></i></a>
                    <a href=""><i class="fab fa-instagram"></i></a>
                    
                </div>
            </div>
    
        </div>
        <!-- <div class="copyright">
            <p style="color: rgb(38, 37, 37);text-align: center;margin-top: 100px;">Copyright© 2023 Spares Mechanic - All Rights Reserved.</p>
        </div> -->
    </footer>
    
    </body>
    </html>
</body>
</html>
